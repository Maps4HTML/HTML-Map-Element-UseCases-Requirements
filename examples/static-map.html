<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Display a region of map data as a static image — Maps for HTML reference examples</title>
  <link rel="stylesheet" href="examples.css">
  <script src="api-keys.js"></script>
</head>
<body>
<h1>Examples for
  <a href="../#use-case-static-map">Display a region of map data as a static image</a>
</h1>

<p>
Static map APIs allow a non-interactive map to be embedded in a webpage as an image.
</p>

<details>
  <summary>Jump to section…</summary>
  <ul class="toc">
    <li>Static map images: <ul>
      <li><a href="#google-maps">Google Static Maps &amp; Static Street View images</a></li>
      <li><a href="#bing-maps">Bing Static Map image</a></li>
      <li><a href="#mapbox">MapBox Static Map image</a></li>
      <li><a href="#mapkit">MapKit Snapshot image</a></li>
      <li><a href="#tomtom">TomTom Static Map image</a></li>
    </ul></li>
  </ul>
</details>

<section id="google-maps">
  <h2>Google Static Maps &amp; Static Street View images</h2>
<code class="html-example">
&lt;!-- Map --&gt;
<span></span>

&lt;!-- Street view --&gt;
<span></span>
</code>
  <div class="static-embed with-streetview">
  </div>
  <script>
      {
          const location = '51.4082343,30.0558434';
          const staticMapURL = `https://maps.googleapis.com/maps/api/staticmap?center=${location}&zoom=16&size=640x480&markers=color:red|location:51.408365,30.055867&key=${m4h.keys.google}`;
          const mapEmbedElement = document.querySelector('#google-maps .static-embed');
          const mapCodeElement = document.querySelectorAll('#google-maps .html-example span');
          const staticMap = document.createElement('img');
          staticMap.src = staticMapURL;
          staticMap.alt = 'Pripyat Amusement Park';
          staticMap.classList.add('static-map');
          mapCodeElement[0].textContent = staticMap.outerHTML;
          mapEmbedElement.appendChild(staticMap);

          const staticStreetviewURL = `https://maps.googleapis.com/maps/api/streetview?location=${location}&heading=355&pitch=25&fov=90&size=120x120&key=${m4h.keys.google}`;
          const staticStreetview = document.createElement('img');
          staticStreetview.src = staticStreetviewURL;
          staticStreetview.alt = 'Pripyat Amusement Park Ferris Wheel';
          staticStreetview.classList.add('static-streetview');
          mapCodeElement[1].textContent = staticStreetview.outerHTML;
          mapEmbedElement.appendChild(staticStreetview);
      }
  </script>
</section>

<section id="bing-maps">
  <h2>Bing Static Map image</h2>
  <code class="html-example">
  </code>
  <div class="static-embed">
  </div>
  <script>
      {
          const location = '51.4082343,30.0558434';
          const staticMapURL = `https://dev.virtualearth.net/REST/v1/Imagery/Map/Road/${location}/16?mapSize=640,480&pushpin=51.408365,30.055867;0;&format=png&key=${m4h.keys.bing}`;
          const mapEmbedElement = document.querySelector('#bing-maps .static-embed');
          const mapCodeElement = document.querySelectorAll('#bing-maps .html-example');
          const staticMap = document.createElement('img');
          staticMap.src = staticMapURL;
          staticMap.alt = 'Pripyat Amusement Park';
          staticMap.classList.add('static-map');
          mapCodeElement[0].textContent = staticMap.outerHTML;
          mapEmbedElement.appendChild(staticMap);
      }
  </script>
</section>

<section id="mapbox">
  <h2>MapBox Static Map image</h2>
  <code class="html-example">
  </code>
  <div class="static-embed">
  </div>
  <script>
      {
          const location = ['51.4082343','30.0558434'];
          const staticMapURL = `https://api.mapbox.com/styles/v1/mapbox/light-v9/static/pin-s+f00(30.055867,51.408365)/${location[1]},${location[0]},15,0,0/640x480?access_token=pk.eyJ1Ijoibmlja2ZpdHoiLCJhIjoiY2p3d2g3N2F5MDZ4azQwcG12dWticDB0diJ9.qnQV5QgYN_eDwg4uUdbO6Q`;
          const mapEmbedElement = document.querySelector('#mapbox .static-embed');
          const mapCodeElement = document.querySelectorAll('#mapbox .html-example');
          const staticMap = document.createElement('img');
          staticMap.src = staticMapURL;
          staticMap.alt = 'Pripyat Amusement Park';
          staticMap.classList.add('static-map');
          mapCodeElement[0].textContent = staticMap.outerHTML;
          mapEmbedElement.appendChild(staticMap);
      }
  </script>
</section>

<section id="mapkit">
  <h2>MapKit Snapshot image</h2>
  <code class="html-example">
  </code>
  <div class="static-embed">
  </div>
  <script>
      {
          const location = '51.4082343,30.0558434';
          let mapkitAuth = m4h.keys.mapkitstatic.maps4html;
          if (self.location.hostname === 'localhost') {
              mapkitAuth = m4h.keys.mapkitstatic.httpslocalhost8000;
          }
          const { referer, teamId, keyId, signature} = mapkitAuth;
          const staticMapURL = `https://snapshot.apple-mapkit.com/api/v1/snapshot?center=${location}&z=16&size=640x480&referer=${referer}&teamId=${teamId}&keyId=${keyId}&signature=${signature}`;
          const mapEmbedElement = document.querySelector('#mapkit .static-embed');
          const mapCodeElement = document.querySelectorAll('#mapkit .html-example');
          const staticMap = document.createElement('img');
          staticMap.src = staticMapURL;
          staticMap.alt = 'Pripyat Amusement Park';
          staticMap.classList.add('static-map');
          mapCodeElement[0].textContent = staticMap.outerHTML;
          mapEmbedElement.appendChild(staticMap);
      }
  </script>
</section>

<section id="tomtom">
  <h2>TomTom Static Map image</h2>
  <code class="html-example">
  </code>
  <div class="static-embed">
  </div>
  <script>
      {
          const location = '30.0558434,51.4082343';
          const staticMapURL = `https://api.tomtom.com/map/1/staticimage?center=${location}&zoom=15&width=640&height=480&layer=basic&style=main&format=png&view=Unified&key=${m4h.keys.tomtom}`;
          const mapEmbedElement = document.querySelector('#tomtom .static-embed');
          const mapCodeElement = document.querySelectorAll('#tomtom .html-example');
          const staticMap = document.createElement('img');
          staticMap.src = staticMapURL;
          staticMap.alt = 'Pripyat Amusement Park';
          staticMap.classList.add('static-map');
          mapCodeElement[0].textContent = staticMap.outerHTML;
          mapEmbedElement.appendChild(staticMap);
      }
  </script>
</section>

</body>
</html>
